 Program
   BeforeStart
     Gripper Activate
     initial_p≔get_actual_tcp_pose()
     MoveJ
       initial_p
     iac7_dist≔0
     Set LaserOFF=Off
   Robot Program
     Grip Check
       If object detected          
         Popup: Object in gripper. Safe to open?
         Gripper Open (1)
     MoveL
       Direction: Tool Z-
         Until (distance)
     Gripper Close (1)
     MoveL
       measure_storage
     Wait: 2.0
     iac7_base_dist≔iac7_dist
     Loop
       iac7_delta_z≔iac7_dist - iac7_base_dist
       If norm(iac7_delta_z) > 0.002
         Script: IAC007 Move Script.script
   Thread_1
     Script: IAC7 Laser Thread 2.script
